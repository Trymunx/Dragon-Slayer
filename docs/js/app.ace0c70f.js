(function(e){function t(t){for(var n,i,r=t[0],u=t[1],l=t[2],h=0,m=[];h<r.length;h++)i=r[h],s[i]&&m.push(s[i][0]),s[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var u=a[r];0!==s[u]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"07c7":function(e,t,a){},"0d60":function(e,t,a){"use strict";var n=a("e690"),s=a.n(n);s.a},"0ea3":function(e,t,a){"use strict";var n=a("9a15"),s=a.n(n);s.a},"2a49":function(e,t,a){"use strict";var n=a("33fe"),s=a.n(n);s.a},"2f35":function(e){e.exports=[{name:"bone",plural:"bones",val:[12,35]},{name:"dragon blood",val:[80,160]},{name:"venom",val:[3,20]}]},"301f":function(e){e.exports=[{name:"antler",val:[10,80]},{name:"dragon claws",plural:"dragon claws",val:[40,135]},{name:"dragon teeth",plural:"dragon teeth",val:[40,135]},{name:"fox skull",val:[3,6]},{name:"giant rat skull",val:[15,40]},{name:"giant spider head",val:[25,65]},{name:"goblin skull",val:[15,35]},{name:"orc skull",val:[20,60]},{name:"skull",val:[20,45]},{name:"troll skull",val:[25,85]},{name:"tusk",val:[8,25]},{name:"wolf claws",plural:"wolf claws",val:[5,15]},{name:"pig skull",val:[1,5]},{name:"boar skull",val:[1,10]},{name:"wolf skull",val:[5,20]},{name:"wolf teeth",plural:"wolf teeth",val:[6,15]}]},"33fe":function(e,t,a){},"36d1":function(e,t,a){"use strict";var n=a("3b38"),s=a.n(n);s.a},"3b38":function(e,t,a){},"4b4c":function(e){e.exports={main:{bg:"#1e1e1e",fontFamily:"Anonymous Pro",fontSize:28,forceSquareRatio:!0},start:{fontFamily:"Cinzel",width:9,height:4,fontSize:55}}},"64a9":function(e,t,a){},"749f":function(e,t,a){"use strict";var n=a("07c7"),s=a.n(n);s.a},"7c8c":function(e){e.exports=[{name:"fox hide",val:[3,16]},{name:"boar hide",val:[5,30]},{name:"spider silk",plural:"spider silk",val:[6,20]},{name:"snakeskin",val:[8,18]},{name:"deer hide",val:[8,50]},{name:"wolf fur",val:[10,30]},{name:"dragon skull",val:[30,65]},{name:"giant bone",val:[35,75]},{name:"giant skull",val:[45,100]},{name:"dragon hide",val:[90,250]},{name:"dragon scales",plural:"dragon scales",val:[105,200]}]},"86b4":function(e){e.exports={dragon:{name:"dragon",namePlural:"dragons",attributes:{maxTotalHP:5e4,minTotalHP:15e3,healthBar:"#",spawnChance:.0015,aggressive:!0},missChance:.2,attacks:[{name:"maul",chance:.64,minDamage:12,maxDamage:27,messages:["The dragon mauls you, hitting you for ","The dragon's claws lacerate your flesh. You lose "]},{name:"breath",chance:.16,minDamage:17,maxDamage:50,messages:["You raise you shield but the dragon breaths fire. You lose ","Your vision erupts in blazing fire as the dragon's breath surrounds you. You lose "]}],drops:{gold:{dropChance:1,max:16500},potions:{dropChance:.95,max:18},harvest:[{name:"dragon skull",quantity:[1,1]},{name:"dragon hide",quantity:[1,4]},{name:"dragon scales",quantity:[2,8]},{name:"dragon claws",quantity:[4,10]},{name:"dragon teeth",quantity:[4,8]},{name:"dragon meat",quantity:[1,4]},{name:"dragon blood",quantity:[1,2]}],equipment:["longsword","halberd","shortsword","dagger","shield","kiteshield","spear","battleaxe","axe","gauntlets","boots","hauberk","chausses","helmet","helm","coif","brigandine","cuirass","gloves","cuisse","greaves","sabatons"]},messages:{onSpawn:["The dragon roars and spreads its wings as you approach, then attacks.","The dragon lifts its head and a pillar of scorching flames erupts from its mouth. Its fierce eyes then lock onto you and it attacks."],onDeath:["With a deafening roar, the dragon lets out a final burst of flaming breath and falls, shaking the ground.","With a final blow you hack the dragon's head off to emerge victorious, surrounded by its blood."]}},giant:{name:"giant",namePlural:"giants",attributes:{maxTotalHP:25e3,minTotalHP:1e4,healthBar:">",spawnChance:.002,aggressive:!0},missChance:.25,attacks:[{name:"club",chance:.6,minDamage:8,maxDamage:22,messages:["The giant clubs you, hitting you for ","The giant's club smashes into your torso. You lose "]},{name:"hurl",chance:.15,minDamage:15,maxDamage:40,messages:["The giant picks you up and hurls you against the ground. You lose ","The giant grabs you by your leg and smashes you against the ground. You lose "]}],drops:{gold:{dropChance:.95,max:5500},potions:{dropChance:.9,max:15},harvest:[{name:"giant bone",quantity:[2,5]},{name:"giant skull",quantity:[1,1]},{name:"giant heart",quantity:[1,1]},{name:"giant flesh",quantity:[2,4]}],equipment:["club","longsword","dagger","shield","spear","boots","hauberk","coif","brigandine","gloves"]},messages:{onSpawn:["The giant lets out a booming roar as it walks towards you and attacks, each step shaking the earth.","The giant strides towards you and attacks, dragging its club along the ground behind it. The earth shakes with each step it takes."],onDeath:["With a sickening bellow, the giant falls to the ground with a mighty thud.","The giant staggers backwards, its hands grasping the air, before collapsing on the ground with a resonating crash."]}},troll:{name:"troll",namePlural:"trolls",attributes:{maxTotalHP:17500,minTotalHP:6500,healthBar:"»",spawnChance:.0025,aggressive:!0},missChance:.3,attacks:[{name:"maul",chance:.56,minDamage:8,maxDamage:18,messages:["The troll mauls you for ","The trolls claws rip through your flesh. You lose "]},{name:"savage",chance:.14,minDamage:12,maxDamage:32,messages:["The troll rushes at you, knocking you off your feet and savaging you for ","The troll savages you with its teeth and claws, ripping your flesh. You lose "]}],drops:{gold:{dropChance:.95,max:4015},potions:{dropChance:.85,max:12},harvest:[{name:"troll skull",quantity:[1,1]},{name:"troll flesh",quantity:[1,3]},{name:"troll fat",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The troll roars incoherently as you approach, beating its chest. It attacks you.","The troll roars and swings its arms clumsily in your direction as you approach, then attacks."],onDeath:["The troll bellows and keels over, dead.","The troll lets out a howl as you strike it down, its body covered in wounds."]}},orc:{name:"orc",namePlural:"orcs",attributes:{maxTotalHP:600,minTotalHP:120,healthBar:"©",spawnChance:.0058,aggressive:!0},missChance:.3,attacks:[{name:"slash",chance:.56,minDamage:4,maxDamage:15,messages:["The orc swings its sword and slashes you for ","The orc's sword cuts into you, you lose "]},{name:"bash",chance:.14,minDamage:8,maxDamage:16,messages:["The orc suddenly lunges at you, bashing you with its shield then stabbing you with a piercing blow while your guard is down. You lose ","The orc slams its shield into you, following up with a slash. You lose "]}],drops:{gold:{dropChance:.85,max:605},potions:{dropChance:.75,max:5},harvest:[{name:"orc skull",quantity:[1,1]},{name:"orc flesh",quantity:[1,3]}],equipment:["longsword","halberd","shortsword","dagger","shield","kiteshield","spear","battleaxe","axe","gauntlets","boots","hauberk","chausses","helmet","helm","coif","brigandine","cuirass","gloves","cuisse","greaves","sabatons"]},messages:{onSpawn:["The orc shouts at you in a language you don't recognise. It spits as you approach, then attacks.","The orc bashes its sword against its shield, grunting menacingly at you as it attacks."],onDeath:["With a final swing of your sword the orc's headless corpse falls at your feet.","The orc's lifeless body crumples at your feet."]}},goblin:{name:"goblin",namePlural:"goblins",attributes:{maxTotalHP:140,minTotalHP:50,healthBar:"¢",spawnChance:.007,aggressive:!0},missChance:.4,attacks:[{name:"slash",chance:.48,minDamage:2,maxDamage:12,messages:["The goblin slashes you for ","The goblin's sword cuts you, you lose "]},{name:"stab",chance:.12,minDamage:4,maxDamage:18,messages:["The goblin lunges at you, stabbing you with its sword. You lose ","The goblin's sword pierces you for "]}],drops:{gold:{dropChance:.75,max:286},potions:{dropChance:.55,max:3},harvest:[{name:"goblin skull",quantity:[1,1]},{name:"goblin flesh",quantity:[1,2]}],equipment:["longsword","halberd","shortsword","dagger","shield","kiteshield","spear","battleaxe","axe","gauntlets","boots","hauberk","chausses","helmet","helm","coif","brigandine","cuirass","gloves","cuisse","greaves","sabatons"]},messages:{onSpawn:["The goblin shrieks at you and waves its sword as you approach, then attacks.","The goblin cackles at you, beating the ground with its hands before it attacks."],onDeath:["The goblin recoils, but not in time. Its corpse falls to the ground.","The goblin's lifeless body crumples at your feet."]}},thief:{name:"thief",namePlural:"thieves",attributes:{maxTotalHP:200,minTotalHP:60,healthBar:"¦",spawnChance:.0072,aggressive:!0},missChance:.4,attacks:[{name:"punch",chance:.36,minDamage:1,maxDamage:3,messages:["The thief lashes out, punching you for ","The thief punches you. You lose "]},{name:"kick",chance:.18,minDamage:2,maxDamage:5,messages:["The thief kicks you, hitting you for ","The thief kicks you, making you stagger backwards. You lose "]},{name:"stab",chance:.06,minDamage:5,maxDamage:12,messages:["The thief draws his dagger and lunges, stabbing you for ","The thief manages to get behind you and stabs you with his dagger. You lose "]}],drops:{gold:{dropChance:.9,max:396},potions:{dropChance:.75,max:3},harvest:[{name:"skull",quantity:[1,1]},{name:"human flesh",quantity:[1,2]},{name:"bone",quantity:[1,2]}],equipment:["longsword","halberd","shortsword","dagger","shield","kiteshield","spear","battleaxe","axe","gauntlets","boots","hauberk","chausses","helmet","helm","coif","brigandine","cuirass","gloves","cuisse","greaves","sabatons"]},messages:{onSpawn:["The thief makes a grab for your gold but you are too quick. He attacks you angrily.","The thief tries to pilfer some of your possessions, but you catch him in the act and he attacks."],onDeath:["You strike the final blow, killing the thief. All of his possessions are yours now!","With a cry the thief dies, falling at your feet. All of his possessions are yours now!"]}},skeleton:{name:"skeleton",namePlural:"skeletons",attributes:{maxTotalHP:500,minTotalHP:120,healthBar:"X",spawnChance:.0068,aggressive:!0},missChance:.4,attacks:[{name:"slash",chance:.48,minDamage:1,maxDamage:5,messages:["The skeleton slashes you for ","The skeleton's sword cuts you, you lose "]},{name:"stab",chance:.12,minDamage:3,maxDamage:7,messages:["The skeleton stabs you with its sword. You lose ","The skeleton's sword pierces you for "]}],drops:{gold:{dropChance:.75,max:110},potions:{dropChance:.65,max:3},harvest:[{name:"bone",quantity:[1,3]},{name:"skull",quantity:[1,1]}],equipment:["longsword","halberd","shortsword","dagger","shield","kiteshield","spear","battleaxe","axe","gauntlets","boots","hauberk","chausses","helmet","helm","coif","brigandine","cuirass","gloves","cuisse","greaves","sabatons"]},messages:{onSpawn:["The skeleton walks towards you, its bones rattling against each other, then attacks.","The skeleton walks towards you, swinging its weapon as it attacks."],onDeath:["With an almighty clattering noise the skeleton collapses into a pile of bones.","Your attack causes the skeleton to explode in a shower of bone fragments."]}},ghost:{name:"ghost",namePlural:"ghosts",attributes:{maxTotalHP:320,minTotalHP:38,healthBar:"~",spawnChance:.0065,aggressive:!0},missChance:.55,attacks:[{name:"fear",chance:.36,minDamage:1,maxDamage:6,messages:["The ghost rears its spectral form, fearing you for ","The ghost takes on many forms in rapid succession, rushing at you and fearing you for "]},{name:"magic",chance:.09,minDamage:5,maxDamage:12,messages:["The ghost channels spectral energy into a magical attack that hits you for ","The ghost begins summoning dark forces with its whispery moaning voice. You are hit by a magical barrage and lose "]}],drops:{gold:{dropChance:.7,max:88},potions:{dropChance:.45,max:3},harvest:[],equipment:[]},messages:{onSpawn:["You see the ghost's face contort in anger and it attacks, its form swirling in and out of view.","The ghost lets out a wailing cry and attacks, its form swirling in and out of view."],onDeath:["The ghost's form dissipates into the surroundings, released from the physical world.","The ghost lets out a final wailing cry as its form drifts apart, scattered by the wind."]}},giantRat:{name:"giant rat",namePlural:"giant rats",attributes:{maxTotalHP:150,minTotalHP:60,healthBar:"O",spawnChance:.0085,aggressive:!0},missChance:.5,attacks:[{name:"scratch",chance:.4,minDamage:1,maxDamage:5,messages:["The giant rat scratches you for ","The giant rat's claws scratch you. You lose "]},{name:"bite",chance:.1,minDamage:1,maxDamage:9,messages:["The giant rat bites you for ","The giant rat's teeth sink into your arm. You lose "]}],drops:{gold:{dropChance:.4,max:55},potions:{dropChance:.2,max:1},harvest:[{name:"rat tail",quantity:[1,1]},{name:"giant rat skull",quantity:[1,1]},{name:"rat meat",quantity:[1,5]}],equipment:[]},messages:{onSpawn:["The giant rat squeaks and bares its teeth as you approach, then attacks.","The giant rat squeaks and scurries towards you to attack, teeth bared."],onDeath:["The giant rat lets out a squeal as it dies.","With a squeal the giant rat dies at your feet."]}},giantSpider:{name:"giant spider",namePlural:"giant spiders",attributes:{maxTotalHP:120,minTotalHP:45,healthBar:"S",spawnChance:.0085,aggressive:!0},missChance:.45,attacks:[{name:"bite",chance:.44,minDamage:1,maxDamage:6,messages:["The giant spider rears up, pulling you towards it with its front legs. It bites you for ","With a sudden scuttling movement the giant spider sinks its fangs into you. You lose "]},{name:"poison",chance:.11,minDamage:2,maxDamage:12,messages:["The giant spider launches itself at you. You see its stinger plunge into you. You lose ","The giant spider suddenly scuttles onto you, swinging its abdomen towards you. You see its stinger stab into you. You lose "]}],drops:{gold:{dropChance:.35,max:50},potions:{dropChance:.2,max:1},harvest:[{name:"giant spider head",quantity:[1,1]},{name:"spider silk",quantity:[1,2]},{name:"venom",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The giant spider scuttles towards you and attacks. You notice a large stinger protruding between its spinnerets.","The giant spider scuttles out of its web to attack you, and you notice a large stinger protruding between its spinnerets."],onDeath:["The giant spider's legs curl inwards towards its body as it dies.","The giant spider makes some final feeble jabs at you with its stinger before curling up, twitching."]}},wolf:{name:"wolf",namePlural:"wolves",attributes:{maxTotalHP:280,minTotalHP:60,healthBar:"Ø",spawnChance:.0075,aggressive:!0},missChance:.4,attacks:[{name:"slash",chance:.42,minDamage:2,maxDamage:8,messages:["The wolf rears up and slashes you, its claws slicing through your skin. You lose ","The wolf swipes at you with its claws, hitting you for "]},{name:"bite",chance:.1,minDamage:1,maxDamage:9,messages:["The wolf leaps at you, sinking its teeth into your arm. You lose ","The wolf grips you in its teeth, shaking its head from side to side. You lose "]}],drops:{gold:{dropChance:.45,max:60},potions:{dropChance:.35,max:2},harvest:[{name:"wolf skull",quantity:[1,1]},{name:"wolf fur",quantity:[1,2]},{name:"wolf meat",quantity:[1,2]},{name:"wolf teeth",quantity:[3,6]},{name:"wolf claws",quantity:[2,8]}],equipment:[]},messages:{onSpawn:["The wolf circles you slowly with its hackles raised, growling menacingly before attacking you.","The wolf growls menacingly, pawing the ground, then lifts its head and howls before attacking you."],onDeath:["The wolf lets out a whine as it falls to the ground.","The wolf whimpers as it limps backwards then collapses, dead."]}},boar:{name:"boar",namePlural:"boars",attributes:{maxTotalHP:180,minTotalHP:120,healthBar:"@",spawnChance:.008,aggressive:!0},missChance:.45,attacks:[{name:"ram",chance:.44,minDamage:2,maxDamage:7,messages:["The boar rams into you, its tusks digging in. You lose ","The boar lowers its head and lurches forward into you, hitting you for "]},{name:"charge",chance:.11,minDamage:5,maxDamage:13,messages:["The boar moves away before rushing back at high speed, slamming headfirst into you, the force knocking you to the ground. It turns and rams you again while you are down. You lose ","With a swift run up the boar slams into you headfirst, knocking you off your feet. It turns and rams you again while you are on the ground. You lose "]}],drops:{gold:{dropChance:.45,max:60},potions:{dropChance:.2,max:1},harvest:[{name:"boar skull",quantity:[1,1]},{name:"tusk",quantity:[1,2]},{name:"boar hide",quantity:[1,2]},{name:"boar meat",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The boar lowers its head, pawing at the ground and charges at you.","The boar squeals and lowers its head before rushing towards you."],onDeath:["The boar lets out a high pitched squeal and collapses to the ground, its legs kicking out furiously until its final breath.","The boar falls to the ground covered in wounds, furiously kicking at the air and squealing until it finally lies still."]}},snake:{name:"snake",namePlural:"snakes",attributes:{maxTotalHP:50,minTotalHP:20,healthBar:"v",spawnChance:.0075,aggressive:!1},missChance:.5,attacks:[{name:"constrict",chance:.4,minDamage:1,maxDamage:4,messages:["The snake wraps itself around you, constricting you. You lose ","The snake grips you in its coils, squeezing you. You lose "]},{name:"bite",chance:.1,minDamage:6,maxDamage:18,messages:["The snake's head lunges forward at lightning speed as it bites, hitting you for ","With a lightning-fast movement the snake bites you for "]}],drops:{gold:{dropChance:.35,max:33},potions:{dropChance:.15,max:1},harvest:[{name:"snakeskin",quantity:[1,1]},{name:"snake meat",quantity:[1,2]},{name:"venom",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The snake hisses and bares its fangs as it attacks.","The snake hisses, its tongue flicking in and out of its mouth as it watches you. Its head sways to follow you as you attack."],onDeath:["The snake tries to slither away before curling up, dead.","The lifeless snake falls to the ground in two pieces."]}},rat:{name:"rat",namePlural:"rats",attributes:{maxTotalHP:25,minTotalHP:1,healthBar:"o",spawnChance:.008,aggressive:!1},missChance:.8,attacks:[{name:"scratch",chance:.16,minDamage:1,maxDamage:2,messages:["The rat scratches you for ","The rat's claws scratch you for "]},{name:"bite",chance:.04,minDamage:1,maxDamage:3,messages:["The rat bites you for ","The rat sinks its teeth into you. You lose "]}],drops:{gold:{dropChance:.1,max:6},potions:{dropChance:.05,max:1},harvest:[{name:"rat tail",quantity:[1,1]},{name:"rat meat",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The rat squeaks and runs in circles as you attack.","The rat squeaks and scurries towards you as you attack."],onDeath:["With a squeak the rat dies.","The rat lets out a final squeak before dying."]}},spider:{name:"spider",namePlural:"spiders",attributes:{maxTotalHP:18,minTotalHP:1,healthBar:"s",spawnChance:.0075,aggressive:!1},missChance:.75,attacks:[{name:"bite",chance:.2,minDamage:1,maxDamage:3,messages:["The spider bites you for ","You feel the spider bite you for "]},{name:"web",chance:.05,minDamage:2,maxDamage:5,messages:["Your foot gets caught in a cobweb, tripping you. You fall and hit your head. You lose ","Your arm catches on a cobweb and you drop your weapon on your foot. You lose "]}],drops:{gold:{dropChance:.05,max:6},potions:{dropChance:.05,max:1},harvest:[{name:"spider silk",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The spider scuttles towards you as you attack.","The spider slowly drops down from above on a long strand of web as you attack."],onDeath:["The spider curls its legs into its body, dead.","The spider lies dead, splayed on the ground."]}},fox:{name:"fox",namePlural:"foxes",attributes:{maxTotalHP:35,minTotalHP:10,healthBar:"+",spawnChance:.008,aggressive:!1},missChance:.8,attacks:[{name:"scratch",chance:.14,minDamage:1,maxDamage:2,messages:["The fox scratches you for ","The fox's claws scratch you for "]},{name:"bite",chance:.06,minDamage:1,maxDamage:4,messages:["The fox bites you for ","The fox sinks its teeth into you. You lose "]}],drops:{gold:{dropChance:.01,max:6},potions:{dropChance:.05,max:1},harvest:[{name:"fox skull",quantity:[1,1]},{name:"fox hide",quantity:[1,2]},{name:"fox meat",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The fox looks around at you, then with a bark runs towards you as you attack.","The fox barks then prepares for your attack."],onDeath:["The fox's lifeless body collapses to the ground.","The fox whimpers as it limps away before collapsing, dead."]}},deer:{name:"deer",namePlural:"deer",attributes:{maxTotalHP:80,minTotalHP:45,healthBar:"Þ",spawnChance:.005,aggressive:!1},missChance:.65,attacks:[{name:"ram",chance:.28,minDamage:1,maxDamage:4,messages:["The deer lowers its head and rams into you, hitting you for ","The deer takes a step back then rams its head into you. You lose "]},{name:"kick",chance:.07,minDamage:2,maxDamage:6,messages:["Turning, the deer kicks you with its hind leg, hitting you for ","The deer turns and kicks you hard with its hind leg. You lose "]}],drops:{gold:{dropChance:.05,max:22},potions:{dropChance:.05,max:1},harvest:[{name:"antler",quantity:[1,1]},{name:"deer hide",quantity:[1,2]},{name:"venison",quantity:[2,4]}],equipment:[]},messages:{onSpawn:["The deer attempts to leap gracefully away from you as you approach, before turning as you attack.","The deer watches you carefully as you attack."],onDeath:["The deer's lifeless body collapses to the ground.","The deer lets out a low squeal as it staggers away before collapsing, dead."]}},pig:{name:"pig",namePlural:"pigs",attributes:{maxTotalHP:65,minTotalHP:45,healthBar:"&",spawnChance:.005,aggressive:!1},missChance:.7,attacks:[{name:"ram",chance:.24,minDamage:1,maxDamage:2,messages:["The pig rams into you. You lose ","The pig lowers its head and lurches forward into you, hitting you for "]},{name:"charge",chance:.06,minDamage:1,maxDamage:3,messages:["The pig moves away before rushing back at speed, knocking you to the ground. You lose ","With a swift run up the pig slams into you headfirst, knocking you off your feet. You lose "]}],drops:{gold:{dropChance:.05,max:11},potions:{dropChance:.05,max:1},harvest:[{name:"pig skull",quantity:[1,1]},{name:"pork",quantity:[2,3]}],equipment:[]},messages:{onSpawn:["The pig grunts and squeals as you attack.","The pig paws the ground, grunting frantically as you attack."],onDeath:["With a high pitched squeal the pig's lifeless body collapses to the ground.","The pig lets out a loud squeal as it staggers away before collapsing, dead."]}},rabbit:{name:"rabbit",namePlural:"rabbits",attributes:{maxTotalHP:10,minTotalHP:1,healthBar:"r",spawnChance:.0075,aggressive:!1},missChance:.85,attacks:[{name:"scratch",chance:.15,minDamage:1,maxDamage:2,messages:["The rabbit scratches you for "]},{name:"KO",chance:1e-5,minDamage:150,maxDamage:500,messages:["Uh oh! This might have been a were-rabbit... It just hit you for "]}],drops:{gold:{dropChance:.05,max:3},potions:{dropChance:0,max:0},harvest:[{name:"rabbit meat",quantity:[1,2]}],equipment:[]},messages:{onSpawn:["The rabbit squeaks as you attack.","The rabbit jumps up as you attack, squeaking."],onDeath:["The rabbit dies with a whimper.","The rabbit lets out a quiet whimper as it dies."]}}}},"9a15":function(e,t,a){},"9e3c":function(e,t,a){},a6b4:function(e,t,a){},ab45:function(e,t,a){"use strict";var n=a("a6b4"),s=a.n(n);s.a},cb65:function(e){e.exports=[{name:"rat tail",plural:"rat tails",val:[1,1],uncooked:1,heal:[2,3]},{name:"snake meat",val:[1,2],uncooked:2,heal:[2,5]},{name:"rat meat",val:[1,3],uncooked:2,heal:[2,5]},{name:"fox meat",val:[2,8],uncooked:3,heal:[5,8]},{name:"rabbit meat",val:[2,5],uncooked:2,heal:[5,10]},{name:"goblin flesh",val:[10,30],uncooked:5,heal:[6,14]},{name:"wolf meat",val:[6,12],uncooked:4,heal:[6,16]},{name:"troll fat",val:[15,50],uncooked:8,heal:[8,12]},{name:"orc flesh",val:[10,40],uncooked:6,heal:[8,16]},{name:"boar meat",val:[2,12],uncooked:5,heal:[8,24]},{name:"human flesh",val:[15,40],uncooked:5,heal:[10,20]},{name:"troll flesh",val:[20,35],uncooked:5,heal:[10,25]},{name:"giant heart",plural:"giant hearts",val:[30,85],uncooked:7,heal:[12,18]},{name:"pork",val:[4,10],uncooked:5,heal:[12,20]},{name:"venison",val:[8,18],uncooked:8,heal:[15,30]},{name:"giant flesh",val:[25,60],uncooked:6,heal:[20,38]},{name:"dragon meat",val:[40,85],uncooked:14,heal:[30,85]}]},cd49:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"},on:{click:e.hideContextMenu,contextmenu:function(t){return t.preventDefault(),e.showContextMenu(t)}}},[a("Output"),a("Overview"),a("surroundings"),a("player-inventory"),a("input-bar"),a("context-menu")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"menu",style:e.style,attrs:{id:"context-menu"}},e._l(this.items,function(t,n){return a("div",{key:n},[a("div",{staticClass:"context-item",on:{click:function(a){return a.stopPropagation(),e.handleAction(t)}}},[e._v("\n      "+e._s(t.text)+"\n    ")])])}),0)},r=[],u={items:[],pos:{x:0,y:0}},l={methods:{contextMenuItems:function(e,t,a){},hideContextMenu:function(){u.items=[]},showContextMenu:function(e){var t={x:e.x,y:e.y},a=[],n=this;while(n){var s=n.contextMenuItems(n,a,e)||[];a=[].concat(a,s),n=n.$parent}u.items=a,this.$nextTick(function(){u.pos=t})}}},c={computed:{show:function(){return this.items.length>0},style:function(){var e=document.getElementById("context-menu")||{offsetHeight:0,offsetWidth:0},t=e.offsetWidth,a=e.offsetHeight,n=[this.pos.x,this.pos.y],s=n[0],o=n[1];return{left:s+t<window.innerWidth?"".concat(s,"px"):"".concat(s-t,"px"),top:o+a<window.innerHeight?"".concat(o,"px"):"".concat(o-a,"px")}}},data:function(){return u},methods:{handleAction:function(e){e.isParent?e.action():(e.action(),this.hideContextMenu())}}},h=c,m=(a("749f"),a("2877")),d=Object(m["a"])(h,i,r,!1,null,null,null),g=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"input-bar"}},[e._v("\n  > "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputText,expression:"inputText"}],attrs:{type:"text",id:"input-text",placeholder:"_"},domProps:{value:e.inputText},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)},focus:function(t){return e.inputBar("focus")},blur:function(t){return e.inputBar("blur")},input:function(t){t.target.composing||(e.inputText=t.target.value)}}})])},f=[],y={computed:{inputText:{get:function(){return this.$store.getters.inputText},set:function(e){this.$store.dispatch("setInputText",e)}}},methods:{inputBar:function(e){var t,a=["#434241","#262626"];switch(e){case"focus":t=a[0],this.$store.dispatch("setCommandMode","text");break;case"blur":t=a[1],this.$store.dispatch("setCommandMode","instant");break}document.querySelector("#input-bar").style["background-color"]=t,document.querySelector("#input-text").style["background-color"]=t},submit:function(){if(!/^\s*$/.test(this.inputText)){var e=this.inputText.trim();this.$store.dispatch("enterCommand",e),this.$game.receiveInputText(e)}}},mounted:function(){document.querySelector("#input-text").focus()}},v=y,b=(a("36d1"),Object(m["a"])(v,p,f,!1,null,"4e655706",null)),w=b.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"output"}},[e._l(e.messages,function(e,t){return a("message",{key:t,attrs:{entity:e.entity,message:e.message}})}),e._m(0)],2)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"messageBg"}},[a("div",{staticClass:"entity"}),a("div",{staticClass:"message"})])}],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"messages",on:{contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.showContextMenu(t)}}},[a("div",{staticClass:"entity"},[e._v(e._s(e.entity))]),a("div",{staticClass:"message",domProps:{innerHTML:e._s(e.message)}})])},M=[],C=(a("28a5"),{methods:{contextMenuItems:function(e){return[{action:function(){e.$store.dispatch("setInputText",e.message)},text:"Resend message"},{action:function(){var t;t=e.entity.split(" ").length>1?"@'".concat(e.entity,"'"):"@".concat(e.entity),e.$store.dispatch("setInputText","".concat(t," "))},text:"Reply to ".concat(e.entity)},{action:function(){console.log("TODO: pass more than just the name into the message to inspect.")},text:"Inspect ".concat(e.entity)}]}},props:["entity","message"]}),S=C,D=(a("f87e"),Object(m["a"])(S,x,M,!1,null,null,null)),P=D.exports,O={components:{Message:P},computed:{messages:function(){return this.$store.getters.messages}},methods:{contextMenuItems:function(e){return[{action:function(){console.log(e.$store)},text:"Log vuex"},{action:function(){},text:"Do Nothing"}]}},watch:{messages:function(){this.$nextTick(function(){document.querySelector("#output").lastChild.scrollIntoView()})}}},A=O,E=(a("ab45"),Object(m["a"])(A,k,T,!1,null,null,null)),q=E.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"overview"},on:{contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.showContextMenu(t)}}})},H=[],_=a("75fc"),G=(a("7514"),a("7f7f"),a("768b")),N=a("2ef0"),j=a.n(N),Y=(a("55dd"),a("deb7"));function R(e){switch(e){case n.NORTH:return[0,-1];case n.SOUTH:return[0,1];case n.WEST:return[-1,0];case n.EAST:return[1,0];default:console.error("".concat(e," is not a valid direction."))}return[0,0]}function B(e,t){var a=[];return t<0?a.push("north"):t>0&&a.push("south"),e<0?a.push("west"):e>0&&a.push("east"),e||t||a.push("here"),a.join(" ")}(function(e){e["NORTH"]="north",e["SOUTH"]="south",e["EAST"]="east",e["WEST"]="west"})(n||(n={}));var W,L=function(){var e=Math.floor(4*Math.random());return e<1?n.NORTH:e<2?n.SOUTH:e<3?n.EAST:n.WEST},$=a("bd86"),F=(a("ac6a"),a("d225")),U=a("b0b4");(function(e){e[e["Creature"]=0]="Creature",e[e["Player"]=1]="Player"})(W||(W={}));var V,z=function(e){return e.type===W.Player};(function(e){e["MOVING"]="moving",e["FIGHTING"]="fighting",e["DEAD"]="dead"})(V||(V={}));var K=function(){function e(t){var a=t.attributes,n=t.cooldown,s=t.currentActivityState,o=t.equipmentSlots,i=t.hp,r=t.items,u=t.level,l=t.position,c=t.symbol,h=t.target,m=t.type;Object(F["a"])(this,e),this.attributes=a,this.cooldown=n,this.currentActivityState=s,this.equipmentSlots=o,this.hp=i,this.items=r,this.level=u,this.position=l,this.symbol=c,this.target=h,this.type=m}return Object(U["a"])(e,[{key:"isDead",value:function(){return this.currentActivityState===V.DEAD||this.hp.current<=0}},{key:"resetActivityState",value:function(){this.target=void 0,this.currentActivityState=V.MOVING}}]),e}(),X=(a("14b9"),a("ed50"),a("308d")),J=a("6bb5"),Q=a("4e2b"),Z=function(){function e(t,a){Object(F["a"])(this,e),this.x=t,this.y=a}return Object(U["a"])(e,[{key:"key",get:function(){return[this.x,this.y].join()}}]),e}(),ee=function(e,t,a){return new Z(Math.floor(Math.random()*e)+t*e,Math.floor(Math.random()*e)+a*e)},te=function(e,t){return"".concat(e,",").concat(t)};function ae(e,t){return void 0!==e&&void 0!==t?Math.random()*(t-e)+e:void 0!==e?Math.random()*e:Math.random()}var ne=function(e,t){return e-e*t/4},se=function(e,t){var a=.8*Math.pow(Math.pow(e,4)/t,.3);return Math.max(1,Math.min(e,a))},oe=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(F["a"])(this,t),e=Object(X["a"])(this,Object(J["a"])(t).call(this,{attributes:{armour:0,attackChance:.45,attackSpeed:30,damage:10,dodgeChance:.15},cooldown:35,currentActivityState:V.MOVING,equipmentSlots:{arms:[{fingers:[{equipped:null},{equipped:null},{equipped:null},{equipped:null}],hand:{equipped:null},wrist:{equipped:null}},{fingers:[{equipped:null},{equipped:null},{equipped:null},{equipped:null}],hand:{equipped:null},wrist:{equipped:null}}],back:{equipped:null},feet:{equipped:null},heads:[{head:{equipped:null},neck:{equipped:null}}],legs:{equipped:null},torso:{equipped:null},waist:{equipped:null}},hp:{current:100,max:100},items:[],level:n,position:new Z(0,0),symbol:"|",type:W.Player})),e.name=a,e.creaturesSlain={},e.xp=0,e}return Object(Q["a"])(t,e),Object(U["a"])(t,[{key:"addXP",value:function(e){while(this.xpToNextLevel<e)e-=this.xpToNextLevel,this.levelUp();this.xp=e}},{key:"attack",value:function(){if(void 0===this.target||this.target.isDead()||z(this.target))return me.AddMessage({entity:"Game",message:"There is nothing to attack!"}),this.target=void 0,void(this.currentActivityState=V.MOVING);var e=ne(this.attributes.attackChance,this.target.attributes.dodgeChance);if(e<ae())me.AddMessage({entity:this.name,message:"You missed the ".concat(this.target.species.name,".")});else{var t=se(this.attributes.damage,this.target.attributes.armour),a=Math.ceil(ae(t));me.AddMessage({entity:this.name,message:"You attack the ".concat(this.target.species.name," for ").concat(a,"HP.")}),this.target.receiveDamage(a),this.target.isDead()&&(this.addXP(Math.round(this.target.hp.max*this.target.level/1.5)),this.currentActivityState=V.MOVING)}}},{key:"heal",value:function(e){var t=Math.min(this.hp.max-this.hp.current,e);return this.hp.current+=t,t}},{key:"levelUp",value:function(){this.level++,this.attributes.damage+=Math.round(Math.pow(this.level,.5)),this.attributes.armour+=Math.round(Math.pow(this.level,.5)),this.hp.max=10*Math.floor((10*Math.pow(this.level,1.3)+90)/10),me.AddMessage({entity:"Level up",message:"Congratulations! You are now level ".concat(this.level,".")})}},{key:"printHPReport",value:function(){var e=40,t=Math.round(this.hp.current/this.hp.max*100),a=Math.round(e/100*t),n="[".concat(this.symbol.repeat(a).padEnd(e),"] (").concat(this.hp.current,"HP)");me.AddMessage({entity:this.name,message:n})}},{key:"receiveDamage",value:function(e){this.hp.current=Math.max(0,this.hp.current-e),0===this.hp.current?(me.AddMessage({entity:"",message:"Game over."}),this.currentActivityState=V.DEAD):this.printHPReport()}},{key:"run",value:function(e){!this.target||this.target instanceof t?me.AddMessage({entity:"",message:"You can't run away when you aren't being attacked."}):ae()<.5?(this.target.target=void 0,this.target.currentActivityState=V.MOVING,this.target=void 0,this.currentActivityState=V.MOVING,e?me.MovePlayer(e):me.MovePlayer(L()),me.AddMessage({entity:"",message:"You manage to run away."})):me.AddMessage({entity:"Can't escape!",message:"You attempt to run but the ".concat(this.target.species.name," prevents you from fleeing.")})}},{key:"targetCreature",value:function(e){this.target=e,this.currentActivityState=V.FIGHTING,me.AddMessage({entity:"",message:e.getSpawnMessage()}),this.attack(),e.target=this,e.currentActivityState=V.FIGHTING,e.cooldown=20}},{key:"update",value:function(){if(this.cooldown>0)this.cooldown--;else switch(this.cooldown=this.attributes.attackSpeed,this.currentActivityState){case V.FIGHTING:this.attack();break}}},{key:"xpToNextLevel",get:function(){return Math.round(50*Math.pow(this.level,1.3))}},{key:"isFullHealth",get:function(){return this.hp.current>=this.hp.max}}]),t}(K),ie=a("2b0e"),re=a("2f62");ie["a"].use(re["a"]);var ue={commandMode:"text",creatures:{},displayOrigin:[0,0],highlit:{},inputText:"",messages:[],player:new oe,splash:!0},le=new re["a"].Store({actions:{addCreature:function(e,t){var a=e.commit;a("ADD_CREATURE",t)},addMessage:function(e,t){var a=e.commit;a("ADD_MESSAGE",t)},addMessageAtPosition:function(e,t){var a=e.commit,n=e.state,s=t.entity,o=t.message,i=t.position;n.player.position.x===i.x&&n.player.position.y===i.y&&a("ADD_MESSAGE",{entity:s,message:o})},clearHighlight:function(e){var t=e.commit;t("CLEAR_HIGHLIGHTED")},dropItems:function(e,t){var a=e.commit;a("DROP_ITEMS",t)},enterCommand:function(e,t){var a=e.commit,n=e.state;a("ADD_MESSAGE",{entity:n.player.name,message:t}),a("SET_INPUT_TEXT","")},highlight:function(e,t){var a=e.commit;a("HIGHLIGHT_TILES",t)},moveCreature:function(e,t){var a=e.commit,n=t.creature,s=t.newPos;a("MOVE_CREATURE",{creature:n,newPos:s})},movePlayer:function(e,t){var a=e.state,n=e.commit;a.player.currentActivityState===V.MOVING?n("MOVE_PLAYER",R(t)):n("ADD_MESSAGE",{entity:"Can't esacpe!",message:"You can't move while you're being attacked. Use \"r\" to attempt to run away."})},parseCommand:function(e,t){console.log("Parsing",t)},setCommandMode:function(e,t){var a=e.commit;a("SET_COMMAND_MODE",t)},setDisplayOrigin:function(e,t){var a=e.commit;a("SET_DISPLAY_ORIGIN",t)},setInputText:function(e,t){var a=e.commit;a("SET_INPUT_TEXT",t)},setPlayer:function(e,t){var a=e.commit;a("SET_PLAYER",t)},setPlayerName:function(e,t){var a=e.commit;a("SET_PLAYER_NAME",t)},setSplash:function(e,t){var a=e.commit;a("SET_SPLASH",t)},setWorld:function(e,t){var a=e.commit;a("SET_WORLD",t)}},getters:{creatures:function(e){return e.creatures},creaturesAt:function(e){return function(t,a){return e.creatures[te(t,a)]||[]}},creaturesWithinRadius:function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!t)return console.warn("No player position in creatureWithinRadius, returning all creatures"),e.creatures;for(var n={},s=t.y-a;s<t.y+a;s++)for(var o=t.x-a;o<t.x+a;o++)e.creatures[te(o,s)]&&(n[te(o,s)]=e.creatures[te(o,s)]);return n}},displayOrigin:function(e){return e.displayOrigin},highlit:function(e){return e.highlit||{}},inputText:function(e){return e.inputText},instantMode:function(e){return"instant"===e.commandMode},itemsOnTile:function(e){return function(t,a){var n=e.world&&e.world.getTile(t,a);return n?n.items:[]}},messages:function(e){return e.messages},player:function(e){return e.player},playerLevel:function(e){return e.player.level},playerName:function(e){return e.player.name},playerPos:function(e){return e.player.position||new Z(0,0)},splash:function(e){return e.splash},surroundings:function(e){return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,a={creatures:[],items:{}},n=function(n){for(var s=function(t){var s,o=[e.player.position.x+t,e.player.position.y+n],i=e.creatures[te.apply(void 0,o)];if(i&&i.length>0){var r=B(t,n),u=Math.abs(t)+Math.abs(n),l=i.filter(function(e){return!e.isDead()}).map(function(e){return{creature:e,dir:r,dist:u}});a.creatures=a.creatures.concat(l)}var c=(s=e.world).getTile.apply(s,o);c.items.length&&c.items.forEach(function(e){a.items[e.name]?(a.items[e.name].count++,a.items[e.name].locations[te.apply(void 0,o)]={},a.items[e.name].expanded[te(t,n)]?(a.items[e.name].expanded[te(t,n)].count++,a.items[e.name].expanded[te(t,n)].totalValue+=e.val):a.items[e.name].expanded[te(t,n)]={count:1,dir:B(t,n),loc:Object($["a"])({},te.apply(void 0,o),{}),name:e.name,plural:e.plural,totalValue:e.val}):a.items[e.name]={count:1,expanded:Object($["a"])({},te(t,n),{count:1,dir:B(t,n),loc:Object($["a"])({},te.apply(void 0,o),{}),name:e.name,plural:e.plural,totalValue:e.val}),locations:Object($["a"])({},te.apply(void 0,o),{}),name:e.name,plural:e.plural}})},o=-t;o<=t;o++)s(o)},s=-t;s<=t;s++)n(s);return a.creatures.sort(function(e,t){return e.dist!==t.dist?e.dist-t.dist:e.creature.level!==t.creature.level?t.creature.level-e.creature.level:t.creature.hp.current-e.creature.hp.current}),a}},world:function(e){return e.world},worldExists:function(e){return!!e.world}},mutations:{ADD_CREATURE:function(e,t){if(e.creatures[te(t.position.x,t.position.y)]){var a=e.creatures[te(t.position.x,t.position.y)].concat([t]).sort(function(e,t){return t.level-e.level});e.creatures[te(t.position.x,t.position.y)]=a}else ie["a"].set(e.creatures,t.position.key,[t])},ADD_MESSAGE:function(e,t){var a=t.entity,n=t.message;e.messages.push({entity:a,message:n})},CLEAR_HIGHLIGHTED:function(e){e.highlit={}},DROP_ITEMS:function(e,t){var a,n=t.items,s=t.pos,o=e.world.getTile(s.x,s.y);(a=o.items).push.apply(a,Object(_["a"])(n))},HIGHLIGHT_TILES:function(e,t){e.highlit=t},MOVE_CREATURE:function(e,t){var a,n=t.creature,s=t.newPos;e.creatures[te.apply(void 0,Object(_["a"])(s))]?((a=e.creatures[te.apply(void 0,Object(_["a"])(s))]).push.apply(a,Object(_["a"])(e.creatures[n.position.key].splice(e.creatures[n.position.key].indexOf(n),1))),e.creatures[te.apply(void 0,Object(_["a"])(s))].sort(function(e,t){return t.level-e.level})):ie["a"].set(e.creatures,te.apply(void 0,Object(_["a"])(s)),e.creatures[n.position.key].splice(e.creatures[n.position.key].indexOf(n),1))},MOVE_PLAYER:function(e,t){var a=Object(G["a"])(t,2),n=a[0],s=a[1];e.player.position.x+=n,e.player.position.y+=s},SET_COMMAND_MODE:function(e,t){e.commandMode=t},SET_DISPLAY_ORIGIN:function(e,t){e.displayOrigin=t},SET_INPUT_TEXT:function(e,t){e.inputText=t},SET_PLAYER:function(e,t){e.player=t},SET_PLAYER_NAME:function(e,t){e.player.name=t},SET_SPLASH:function(e,t){e.splash=t},SET_WORLD:function(e,t){ie["a"].set(e,"world",t)},START_GAME:function(){console.log("Probably not going to work here buddy")}},state:ue}),ce=le;function he(e){return function(t){return ce.dispatch(e,t)}}var me={AddCreature:he("addCreature"),AddMessage:he("addMessage"),AddMessageAtPosition:he("addMessageAtPosition"),ClearHighlight:he("clearHighlight"),DropItems:he("dropItems"),EnterCommand:he("enterCommand"),Highlight:he("highlight"),MoveCreature:he("moveCreature"),MovePlayer:he("movePlayer"),ParseCommand:he("parseCommand"),SetCommandMode:he("setCommandMode"),SetDisplayOrigin:he("setDisplayOrigin"),SetInputText:he("setInputText"),SetPlayer:he("setPlayer"),SetPlayerName:he("setPlayerName"),SetSplash:he("setSplash"),SetWorld:he("setWorld")};function de(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=e-ce.getters.player.level;return t=n>10?"hsl(0, 100%, ".concat(a,"%)"):n<-10?"hsl(120, 100%, ".concat(a,"%)"):"hsl(".concat(120-6*(n+10),", 100%, ").concat(a,"%)"),t}var ge=new Y["a"]({bg:"#1e1e1e",fg:"#daddd8",forceSquareRatio:!0});ge.drawWorld=function(){var e=ce.getters.world,t=ce.getters.player;this.clear();var a=this.getOptions(),n=Math.ceil(t.position.y-a.height/2),s=Math.ceil(t.position.y+a.height/2),o=Math.ceil(t.position.x-a.width/2),i=Math.ceil(t.position.x+a.width/2);me.SetDisplayOrigin([o,n]);for(var r=0,u=n;u<s;u++){for(var l=0,c=o;c<i;c++){var h=e.getTile(c,u),m=ce.getters.highlit[[c,u].join()],d=h.display,g=h.foreground,p="#1e1e1e",f=ce.getters.creaturesAt(c,u);f&&f.sort(function(e,t){return e.isDead()&&t.isDead()?0:e.isDead()?1:t.isDead()?-1:t.hp.current-e.hp.current}),m?p="#df9":h.items.length>0&&(p="hsla(0, 0%, 100%, ".concat(Math.min(h.items.length/12,.8),")")),c===t.position.x&&u===t.position.y?(d="※",g=m||h.items.length>8?"#000":"#fff"):f&&f.length&&(m&&m.symbol&&m.colour?(d=m.symbol,g=m.colour):(d=f[0].symbol,g=f[0].isDead()?"#222":de(f[0].level))),this.draw(l,r,d,g,p),l++}r++}};var pe=ie["a"].extend({methods:{contextMenuItems:function(e,t,a){var n=this,s={x:a.x,y:a.y},o=document.querySelector("#overview > canvas");if(o){var i=ge.getOptions(),r=Math.floor((s.x-o.offsetLeft)*i.width/o.offsetWidth),u=Math.floor((s.y-o.offsetTop)*i.height/o.offsetHeight),l=Object(G["a"])(this.$store.getters.displayOrigin,2),c=l[0],h=l[1];console.log(c,h);var m=this.$store.getters.creaturesAt(r+c,u+h).map(function(e){return{action:function(){if(e.isDead())n.$store.dispatch("addMessage",{entity:"Examine ".concat(e.species.name,":"),message:"The ".concat(e.species.name," is dead.")});else{var t=e.getItemsPrettyOutput();n.$store.dispatch("addMessage",{entity:"Examine ".concat(e.species.name,":"),message:"The ".concat(e.species.name," is level ").concat(e.level," and has ")+"".concat(e.hp.current,"HP. It will drop ").concat(t||"nothing",".")}),n.$store.dispatch("addMessage",{entity:"",message:e.printHPReport(!0)})}},text:"Examine ".concat(e.isDead()?"dead":""," ").concat(e.species.name)}}),d=this.$store.getters.itemsOnTile(r+c,u+h).reduce(function(e,t){var a=e.find(function(e){return e.name===t.name});if(a)a.count++,a.val+=t.val,a.text="".concat(a.count," ").concat(1===a.count?a.name:a.plural," (").concat(a.val,")"),a.action=function(){ce.dispatch("addMessage",{entity:"",message:"You examine the ".concat(a.plural,". It is worth ").concat(a.val," gold.")})};else{var n={action:function(){ce.dispatch("addMessage",{entity:"",message:"You examine the ".concat(t.name,". It is worth ").concat(t.val," gold.")})},count:1,name:t.name,plural:t.plural,text:"1 ".concat(t.name," (").concat(t.val,")"),val:t.val};e.push(n)}return e},[]);return[].concat(Object(_["a"])(m),Object(_["a"])(d))}},resizeOverview:function(){if(!this.$store.getters.splash){var e=document.querySelector("#overview");if(!e)return;var t=ge.computeSize(e.offsetWidth,e.offsetHeight),a=Object(G["a"])(t,2),n=a[0],s=a[1];ge.setOptions({height:s,width:n}),ge.drawWorld()}}},mounted:function(){document.querySelector("#overview").appendChild(ge.getContainer()),window.addEventListener("resize",j.a.debounce(this.resizeOverview,100))}}),fe=pe,ye=(a("0d60"),Object(m["a"])(fe,I,H,!1,null,null,null)),ve=ye.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"player-inventory"}},[e._v("\n  Player position:\n  "+e._s(e.playerPos.x)+","+e._s(e.playerPos.y)+"\n")])},we=[],ke={computed:{playerPos:function(){return this.$store.getters.playerPos}},data:function(){return{}}},Te=ke,xe=(a("0ea3"),Object(m["a"])(Te,be,we,!1,null,null,null)),Me=xe.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"surroundings-output"}},[e.worldExists?[a("div",{staticClass:"creatures-wrapper"},[e._v("\n      Creatures:\n      "),a("div",{staticClass:"table-wrapper"},[a("table",{staticClass:"surrounds-categories"},[a("tbody",e._l(e.surroundings.creatures,function(t,n){return a("tr",{key:"creature-"+n,on:{mouseenter:function(a){return e.highlight(t.creature)},mouseleave:function(t){return e.highlight()}}},[a("td",{staticClass:"symbol",style:e.getStyle(t.creature.level)},[e._v("\n                "+e._s(t.creature.symbol)+"\n              ")]),a("td",{staticClass:"creature-name"},[e._v("\n                "+e._s(t.creature.isDead()?"dead":"")+"\n                "+e._s(t.creature.species.name)+"\n              ")]),a("td",{staticClass:"creature-level"},[e._v("\n                Level\n              ")]),a("td",{style:e.getStyle(t.creature.level)},[e._v("\n                "+e._s(t.creature.level)+"\n              ")]),a("td",{staticClass:"direction"},[e._v("\n                ("),a("span",{style:t.dist?"":e.getStyle(t.creature.level)},[e._v(e._s(t.dir))]),e._v(")\n              ")])])}),0)])])]),a("div",{staticClass:"surrounding-items-wrapper"},[e._v("\n      Items:\n      "),a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"surrounds-categories"},e._l(e.surroundings.items,function(t,n){return a("div",{key:"item-"+n,staticClass:"item-list-wrapper",on:{mouseenter:function(a){return e.highlight(null,t.locations)},mouseleave:function(t){return e.highlight()},click:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"left",37,a.key,["Left","ArrowLeft"])?null:"button"in a&&0!==a.button?null:e.toggleExpanded(t)}}},[a("div",{staticClass:"flex-container"},[a("span",{staticClass:"item-count"},[e._v(e._s(t.count))]),a("span",{staticClass:"item-name"},[e._v(e._s(1===t.count?t.name:t.plural))])]),e._l(t.expanded,function(n,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.expandedItem===t.name,expression:"expandedItem === item.name"}],key:"expanded-"+s,staticClass:"expanded-items",on:{mouseenter:function(t){return e.highlight(null,n.loc)},mouseleave:function(t){return e.highlight()}}},[a("span",{staticClass:"item-count"},[e._v(e._s(n.count))]),a("span",{staticClass:"expanded-name"},[e._v("\n                "+e._s(1===n.count?n.name:n.plural)+"\n              ")]),a("span",{staticClass:"item-value"},[e._v(e._s(n.totalValue))]),a("span",{staticClass:"direction"},[e._v("("+e._s(n.dir)+")")])])})],2)}),0)])])]:e._e()],2)},Se=[],De={computed:{surroundings:function(){return this.$store.getters.surroundings()},worldExists:function(){return this.$store.getters.worldExists}},data:function(){return{expandedItem:""}},methods:{getStyle:function(e){return"color: "+de(e)},highlight:function(e,t){if(e){var a=Object($["a"])({},e.position.key,{colour:e.isDead()?"#888":de(e.level,30),symbol:e.symbol});this.$store.dispatch("highlight",a)}else t?this.$store.dispatch("highlight",t):this.$store.dispatch("clearHighlight")},toggleExpanded:function(e){e.name===this.expandedItem?this.expandedItem="":this.expandedItem=e.name}}},Pe=De,Oe=(a("2a49"),Object(m["a"])(Pe,Ce,Se,!1,null,null,null)),Ae=Oe.exports,Ee={components:{ContextMenu:g,InputBar:w,Output:q,Overview:ve,PlayerInventory:Me,Surroundings:Ae},created:function(){this.$game.start(),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("keydown",this.handleKeyDown)},methods:{contextMenuItems:function(e,t){return[{action:function(){console.log(e)},text:"Cancel"}]},handleKeyDown:function(e){"Enter"===e.key&&"Escape"===e.key||!this.$store.getters.instantMode||this.$game.receiveInputKeyDown(e.key)},handleKeyUp:function(e){switch(e.key){case"Enter":""===document.querySelector("#input-text").value&&!this.$store.instantMode&&this.$store.worldExists?document.querySelector("#input-text").blur():document.querySelector("#input-text").focus();break;case"Escape":document.querySelector("#input-text").blur();break;default:this.$game.receiveInputKeyUp(e.key);break}}},name:"App"},qe=Ee,Ie=(a("034f"),Object(m["a"])(qe,s,o,!1,null,null,null)),He=Ie.exports,_e=a("4b4c"),Ge=(a("ffc1"),{run:function(){for(var e=ce.getters.player,t=ce.getters.playerPos,a=Ne(t),n=function(){var t=Object(G["a"])(o[s],2),a=t[0],n=t[1],i=n.filter(function(e){return e.aggressive&&e.currentActivityState===V.MOVING});a===ce.getters.playerPos.key&&i.forEach(function(t){return t.targetPlayer(e)}),i.length>1&&n.length>1&&i.forEach(function(e){return e.targetCreatures(n)}),n.forEach(function(e){return e.update()})},s=0,o=Object.entries(a);s<o.length;s++)n();e.update(),ge.drawWorld(),window.requestAnimationFrame(Ge.run)}});function Ne(e){var t=ge.getOptions(),a=Math.max(t.width,t.height);return e||console.error("No player position in game loop"),ce.getters.creaturesWithinRadius(e,a)}var je=Ge,Ye=function e(t){Object(F["a"])(this,e),this.name=t},Re=(a("ac4d"),a("8a81"),a("456d"),a("5df3"),a("f400"),a("86b4")),Be=a("7c8c"),We=a("cb65"),Le=a("2f35"),$e=a("301f"),Fe=void 0,Ue=new Map,Ve=function e(t){for(var a in Object(F["a"])(this,e),t)this[a]=t[a]},ze=function(){function e(t){for(var a in Object(F["a"])(this,e),t)this[a]=t[a];this.methods={}}return Object(U["a"])(e,[{key:"newItem",value:function(){var e={};for(var t in this)Array.isArray(this[t])&&"value"!==t&&"val"!==t?e[t]=Math.floor(Ke(this[t][0],this[t][1])):"value"!==t&&(e[t]=this[t]);return e.val=this.value.reduce(function(t,a){return t+a(e)},0),new Ve(e)}},{key:"addMethod",value:function(e,t){this.methods[e]=t}}]),e}();function Ke(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Xe(e,t,a){var n=e[t],s=(e.val[1]-e.val[0]+1)/(a[1]-a[0]+1);return Math.floor((n-a[0])*s+e.val[0])}if(Be.forEach(function(e){var t;if(Ue.has(e.name)){for(var a in t=Ue.get(e.name),e)t[a]=e[a];t.value.push(function(e){return Ke(e.val[0],e.val[1])})}else t=new ze(e),t.value=[function(e){return Ke(e.val[0],e.val[1])}];t.plural||(t.plural=t.name+"s"),t.addMethod("craft",function(){return console.log("Crafting with ".concat(Fe.name))}),Ue.set(t.name,t)}),We.forEach(function(e){var t;if(Ue.has(e.name)){for(var a in t=Ue.get(e.name),e)t[a]=e[a];t.value.push(function(t){return Xe(t,"heal",e.heal.slice())})}else t=new ze(e),t.value=[function(t){return Xe(t,"heal",e.heal.slice())}];t.plural||(t.plural=t.name),t.edible=!0,t.addMethod("cook",function(){return t.uncooked=!1}),Ue.set(t.name,t)}),!Ue.has("gold")){var Je=new ze({name:"gold",plural:"gold",value:[function(){return 1}]});Ue.set("gold",Je)}Le.forEach(function(e){var t;if(Ue.has(e.name)){for(var a in t=Ue.get(e.name),e)t[a]=e[a];t.value.push(function(e){return Ke(e.val[0],e.val[1])})}else t=new ze(e),t.value=[function(e){return Ke(e.val[0],e.val[1])}];t.plural||(t.plural=t.name),t.addMethod("combine",function(){return console.log("Using ingredient ".concat(Fe.name))}),Ue.set(t.name,t)}),$e.forEach(function(e){var t;if(Ue.has(e.name)){for(var a in t=Ue.get(e.name),e)t[a]=e[a];t.value.push(function(e){return Ke(e.val[0],e.val[1])})}else t=new ze(e),t.value=[function(e){return Ke(e.val[0],e.val[1])}];t.plural||(t.plural=t.name+"s"),Ue.set(t.name,t)});var Qe=Ue,Ze=new Map(Object.entries(Re)),et=function(e){function t(e){var a,n=e.level,s=e.pos,o=e.template;Object(F["a"])(this,t);var i=Math.floor(ae(20,600)),r=Math.floor(ae(o.attributes.minTotalHP,o.attributes.maxTotalHP));return a=Object(X["a"])(this,Object(J["a"])(t).call(this,{attributes:{armour:1,attackChance:1-o.missChance,attackSpeed:35,damage:1,dodgeChance:.2},cooldown:i,currentActivityState:V.MOVING,hp:{current:r,max:r},items:[],level:n,position:s,symbol:o.attributes.healthBar,type:W.Creature})),a.species={name:o.name,plural:o.namePlural},a.aggressive=o.attributes.aggressive,a.items=o.drops.harvest.filter(function(e){return Qe.has(e.name)}).map(function(e){var t=1!==e.quantity[1]?Math.floor(ae(e.quantity[0],e.quantity[1])):1;return Qe.get(e.name).newItem(t)}).concat(tt(o.drops.gold)),a.moveSpeed=i,a.attacks=o.attacks,a.attacksToWeightsMap=a.attacks.reduce(function(e,t){return e[t.name]=t.chance,e},{}),a.messages=o.messages,a}return Object(Q["a"])(t,e),Object(U["a"])(t,[{key:"attack",value:function(){if(this.target){var e=ne(this.attributes.attackChance,this.target.attributes.dodgeChance);if(e<ae())this.target instanceof t?me.AddMessageAtPosition({entity:"",message:"The ".concat(this.species.name," missed the ").concat(this.target.species.name,"."),position:this.position}):this.target instanceof oe&&me.AddMessage({entity:this.species.name,message:"The ".concat(this.species.name," missed you.")});else{var a=Y["b"].getWeightedValue(this.attacksToWeightsMap),n=this.attacks.find(function(e){return e.name===a});if(n){var s=Math.floor(ae(n.minDamage,n.maxDamage)*this.level/1.5);if(this.target instanceof t)me.AddMessageAtPosition({entity:"",message:"The ".concat(this.species.name," used ").concat(a," on the ").concat(this.target.species.name," for ").concat(s,"."),position:this.position});else if(this.target instanceof oe){var o=n.messages[Math.floor(ae(n.messages.length))]+s+" HP.";me.AddMessage({entity:this.species.name,message:o})}this.target.receiveDamage(s),this.target.isDead()&&(this.currentActivityState=V.MOVING,this.cooldown=this.moveSpeed,this.level++)}else console.error(a+" doesn't exist for "+this.species.name)}}}},{key:"getDeathMessage",value:function(){var e=Math.floor(ae()*this.messages.onDeath.length);return this.messages.onDeath[e]}},{key:"getSpawnMessage",value:function(){var e=Math.floor(ae()*this.messages.onSpawn.length);return this.messages.onSpawn[e]}},{key:"printHPReport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=40,a=Math.round(this.hp.current/this.hp.max*100),n=Math.round(t/100*a),s="[".concat(this.symbol.repeat(n).padEnd(t),"] (").concat(this.hp.current,"HP)");e?me.AddMessage({entity:this.species.name,message:s}):me.AddMessageAtPosition({entity:this.species.name,message:s,position:this.position})}},{key:"receiveDamage",value:function(e){this.hp.current=Math.max(0,this.hp.current-e),this.hp.current<=0?(this.target instanceof oe?me.AddMessage({entity:this.species.name,message:this.getDeathMessage()}):this.target instanceof t&&me.AddMessageAtPosition({entity:"",message:"The ".concat(this.species.name," died and dropped ").concat(this.getItemsPrettyOutput(),"."),position:this.position}),this.currentActivityState=V.DEAD,this.dropItems()):this.printHPReport()}},{key:"getItemsPrettyOutput",value:function(){var e=this,t=this.items.reduce(function(e,t){return void 0===t?e:(e[t.name]?e[t.name]++:e[t.name]=1,e)},{}),a=Object.keys(t).map(function(a){return 1===t[a]?"1 ".concat(a):"".concat(t[a]," ").concat(e.items.find(function(e){return e.name===a}).plural)}),n=a.length>1?a.slice(0,-1).join(", ")+", and "+a.slice(-1):a[0]||"";return n}},{key:"dropItems",value:function(){me.DropItems({items:this.items.splice(0),pos:this.position})}},{key:"move",value:function(){switch(Math.floor(4*Math.random())){case 0:me.MoveCreature({creature:this,newPos:[this.position.x,this.position.y-1]}),this.position.y--;break;case 1:me.MoveCreature({creature:this,newPos:[this.position.x,this.position.y+1]}),this.position.y++;break;case 2:me.MoveCreature({creature:this,newPos:[this.position.x-1,this.position.y]}),this.position.x--;break;case 3:me.MoveCreature({creature:this,newPos:[this.position.x+1,this.position.y]}),this.position.x++;break}}},{key:"targetCreatures",value:function(e){var t=!0,a=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var i=s.value;i!==this&&(i.hp.current<this.hp.current&&this.currentActivityState===V.MOVING&&i.currentActivityState===V.MOVING&&(this.currentActivityState=V.FIGHTING,i.currentActivityState=V.FIGHTING,this.target=i,i.target=this,this.cooldown=this.attributes.attackSpeed,i.cooldown=i.attributes.attackSpeed+10))}}catch(r){a=!0,n=r}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}},{key:"targetPlayer",value:function(e){this.currentActivityState===V.MOVING&&e.currentActivityState===V.MOVING&&(me.AddMessage({entity:this.species.name,message:this.getSpawnMessage()}),this.currentActivityState=V.FIGHTING,e.currentActivityState=V.FIGHTING,this.target=e,e.target=this,this.cooldown=this.attributes.attackSpeed)}},{key:"update",value:function(){if(this.cooldown>0)this.cooldown--;else switch(this.currentActivityState){case V.MOVING:this.cooldown=this.moveSpeed,this.move();break;case V.FIGHTING:this.cooldown=this.attributes.attackSpeed,this.attack();break;case V.DEAD:this.cooldown=0;break}}}]),t}(K),tt=function(e){var t=e.max,a=e.dropChance,n=[];if(ae()<a)for(var s=Math.floor(ae(t)),o=0;o<s;o++)n.push(Qe.get("gold").newItem());return n},at=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Ze.forEach(function(s){for(var o=Math.round(.5*s.attributes.spawnChance*Math.pow(e,2)),i=0;i<o;i++){var r=Math.ceil(Math.random()*n*1.5),u=ee(e,t,a),l=new et({level:r,pos:u,template:s});me.AddCreature(l)}})},nt=function(){var e=[{prob:40,symbol:"↟"},{prob:22,symbol:"⇞"},{prob:18,symbol:"↑"},{prob:6,symbol:"⇈"},{prob:5,symbol:"⭫"},{prob:10,symbol:"𐇲"},{prob:4,symbol:"⇡"},{prob:4,symbol:"⇑"},{prob:2,symbol:"⥉"},{prob:2,symbol:"⭎"},{prob:2,symbol:"⤒"},{prob:1,symbol:"⭜"}];e.sort(function(e,t){return t.prob-e.prob});var t=e.reduce(function(e,t){return t.prob+=e},0),a=Math.floor(Math.random()*t),n=0;while(a>=e[n+1].prob)n++;return e[n].symbol},st=nt,ot=function(){function e(t,a,n,s){switch(Object(F["a"])(this,e),this.chunk=n,this.items=[],this.relPos=[t,a],s){case"forest":this.display=st(),this.foreground="#086623";break;default:this.display="·",this.foreground="#855e40";break}this.spawnRateModifiers=new Map}return Object(U["a"])(e,[{key:"setSpawnRateMod",value:function(e,t){this.spawnRateModifiers.set(e,t)}},{key:"getSpawnRateMod",value:function(e){return this.spawnRateModifiers.has(e)?this.spawnRateModifiers.get(e):1}}]),e}(),it=64,rt=function(){function e(t,a,n){Object(F["a"])(this,e),this.pos=[t,a],this.world=n,this.tiles=[];for(var s=0;s<it;s++){this.tiles[s]=[];for(var o=0;o<it;o++)Math.random()>.4?this.tiles[s][o]=new ot(s,o,this,"forest"):this.tiles[s][o]=new ot(s,o,this)}this.generate()}return Object(U["a"])(e,[{key:"getAdjChunk",value:function(e){var t=R(e),a=Object(G["a"])(t,2),n=a[0],s=a[1];return this.world.getChunk(this.pos[0]+n,this.pos[1]+s)}},{key:"getTile",value:function(e,t){return this.tiles[e][t]}},{key:"getTileFromWorldCoords",value:function(t,a){return this.getTile(Math.abs((e.size+t)%e.size),Math.abs((e.size+a)%e.size))}},{key:"generate",value:function(){var t=ce.getters.playerLevel;at(e.size,this.pos[0],this.pos[1],t)}}],[{key:"size",get:function(){return it}}]),e}(),ut=function(){function e(){var t=this;Object(F["a"])(this,e),this.chunks={},this.spawnChunk=this.genChunk(0,0),[[0,1],[0,-1],[1,0],[-1,0]].forEach(function(e){t.genChunk.apply(t,Object(_["a"])(e))})}return Object(U["a"])(e,[{key:"getChunk",value:function(e,t){return this.chunks[te(e,t)]}},{key:"chunkExists",value:function(e,t){return void 0!==this.chunks[te(e,t)]}},{key:"genChunk",value:function(e,t){var a=new rt(e,t,this);return this.chunks[te(e,t)]=a,a}},{key:"getChunkFromTile",value:function(e,t){var a=[Math.floor(e/rt.size),Math.floor(t/rt.size)];return this.chunkExists.apply(this,a)?this.getChunk.apply(this,a):this.genChunk.apply(this,a)}},{key:"getTile",value:function(e,t){return this.getChunkFromTile(e,t).getTileFromWorldCoords(e,t)}}]),e}(),lt=function(e){function t(){return Object(F["a"])(this,t),Object(X["a"])(this,Object(J["a"])(t).call(this,"main"))}return Object(Q["a"])(t,e),Object(U["a"])(t,[{key:"init",value:function(){ge.clear(),ge.setOptions(_e.main),me.SetWorld(new ut);var e=document.querySelector("#overview");if(e){var t=e.getBoundingClientRect(),a=t.width,n=t.height,s=ge.computeSize(a,n),o=Object(G["a"])(s,2),i=o[0],r=o[1];ge.setOptions({height:r,width:i}),ge.drawText(0,0,"Main state initialised"),ge.drawText(2,2,"Player: "+ce.getters.playerName),ge.drawWorld(),me.AddMessage({entity:"",message:"You find yourself in the middle of a forest. Looking around, you see trees extending off into the distance."}),me.AddMessage({entity:"Controls:",message:"Use the arrow keys to move around. Additionally, you can press 'enter' to enter command mode, where you can type commands to interact with the world. Try entering /help in this mode for a list of commands. You can press 'escape' to unfocus the command input to use arrow keys to move around."}),je.run()}else console.error("Overview div not found (css selector #overview)")}},{key:"redraw",value:function(){ge.drawWorld()}},{key:"keyDown",value:function(e){if(ce.getters.instantMode){switch(e){case"ArrowUp":me.MovePlayer(n.NORTH),ge.drawWorld();break;case"ArrowDown":me.MovePlayer(n.SOUTH),ge.drawWorld();break;case"ArrowLeft":me.MovePlayer(n.WEST),ge.drawWorld();break;case"ArrowRight":me.MovePlayer(n.EAST),ge.drawWorld();break;case"a":var t=ce.getters.playerPos,a=ce.getters.creaturesAt(t.x,t.y);if(a.length){var s=0,o=!1;while(s<a.length&&!o)a[s].isDead()||a[s].currentActivityState!==V.MOVING?s++:o=!0;o?(me.AddMessage({entity:"",message:"You attack the ".concat(a[s].species.name,".")}),ce.getters.player.targetCreature(a[s])):me.AddMessage({entity:"",message:"You cannot attack these creatures because they are dead or already fighting."})}else me.AddMessage({entity:"",message:"There is nothing here to attack."});break;case"r":ce.getters.player.run(),ge.drawWorld();break;default:break}me.Highlight({})}}},{key:"keyUp",value:function(e){ce.getters.instantMode}},{key:"receiveInputText",value:function(e){ce.getters.instantMode||(/^\/help$/.test(e)?me.AddMessage({entity:"Help",message:"Press 'enter' to enter typed command mode, and 'escape' to get back to command mode.\nYou can right-click on the map to see what is on that tile."}):/^run$/.test(e.trim())?ce.getters.player.run():me.AddMessage({entity:"Main state",message:"Response to "+e}))}}]),t}(Ye),ct=new lt,ht=["Anno","Panteleon","Orderic","Sancho","Bucca","Arbitio","Ledger","Ricchar","Halinard","Willibrord","Reginar","Gararic","Gararic","Walcaud","Merimas","Dagaric","Crassus","Theuderic","Marcomir","Alberic","Bobuth","Thakkarlig","Thondraec","Nedden","Dwogratin","Grarnec","Fikherlum","Dodoir","Khouthaer","Thongraet","Illithor","Naertho","Inchel","Emmyth","Ayred","Elpaerae","Albondiel","Orndacil","Uldreiyn","Zaltarish","Almithara","Tisharu","Sphiel","Nylaathria","Shearah","Ghilanna","Salihn","Talila","Thasitalia","Merialeth","Rain","Aloha","Lazuli","Herb","Bim","Barley","Walnut","Astro","Axis","Sprinkle","Crisdyr","Jarmon","Leoellan","Lamtar","Clerdil","Yorladar","Rainrath","Eirlamar","Vicphar","Audlamar","Matfrid","Bovo","Bingo","Hartmut","Hildebald","Dudo","Chlotar","Samo","Wala","Ouen","Madelgarde","Katie","Tanta","May","Engelberga","Rosamund","Tanta","Emily","Tavia","Fallon","Linda","Duenna","Adaltrude","Lenora","Regina","May","Tatiana","Pansy","Kelsey","Nantechildis","Ceufroy","Humbert","Fastolph","Dodo","Heribert","Imbert","Audoen","Leuthere","Hagen","Childeric","Fulcaire","Sagramor","Roderic","Ricbodo","Marmadoc","Richomer","Badegisel","Orlando","Guido","Rathar","Walaric","Gouzlim","Adelard","Gerontius","Theobald","Jolly","Goisfrid","Bingo","Benild","Anno","Willichar","Brocard","Panteleon","Hildebald","Bilcuzal","Chlodmer","Norbert","Hunald","Marroc","Theudebald","Nun","Llund","Hridr","Khesnoll","Geillvand","Unngold","Tyonnith","Tufveikr","Prinnuyvirn","Bopluludr","Khuh","Seh","Ga","Sholmof","Gwaecu","Makeil","Steshesh","Rhilgrann","Thugreafthu","Friymiolde","Kran","Grerv","Dhub","Druat","Golk","Totzak","Vognoub","Krunguab","Zucriag","Bretto","Tabbun","Bhoda","Ruruah","Choetoe","Ashai","Traka","Esi","Skudis","Eenaah","Biza"],mt=["Undertree","Proudbottom","Hairyfoot","Riverhopper","Gamwich","Fleetfoot","Oakbottom","Gawkroger","Swiftfoot","Oldbuck","Thornburrow","Greenhand","Fleetfoot","North-took","Featherbottom","Gluttonbelly","Noakes","Leafwalker","Underburrow","Twofoot","Runebelly","Ingotarm","Opalmane","Mountainthane","Beastarmour","Hardbranch","Largeblade","Caveshaper","Dragonbraids","Shadowbraids","Wysakian","Heidi","Eilsandoral","Hercan","Thewarin","Vahorn","Virfina","Olaric","Olarora","Brynala","Valsys","Ulabella","Inalamin","Gilphine","Wranharice","Sarvyre","Fenqen","Eladithas","Wranjor","Gendove","Mossymint","Silkblossom","Mistytwist","Falconfoam","Frozengrace","Fernfleck","Woodpond","Cricketfeet","Cloudylace","Beechwillow","Elydark","Zinran","Farvalur","Chaesandoral","Wyngolor","Reynala","Quinan","Daewarin","Ravaric","Sylxidor","Riverhopper","Grubb","Cutton","Oakbottom","Fairbairn","Maggot","Whitbottom","Pott","Banks","Hlothran","Bunce","Noakesburrow","Baggins","Hopesinger","Proudbody","Sackville","Boffin","Fallohide","Silentfoot","Greenhand","Bilberry","Silentfoot","Finnagund","Pott","Silverstring","Butcher","Clayhanger","Littlefoot","Wanderfoot","Maggot","Brockhouse","Underburrow","Chubb","Bolger-Baggins","Boffin","Underfoot","Brown","Bottomhill","Whitfoot","Longriver","Brandybuck","Heathertoes","Dewfoot","Leafwalker","Featherbottom","Greenhand","Sandheaver","Noakes","Grubb","Galbassi","Farfoot","Littlefoot","Thornburrow","Tunnelly","Sandheaver","Noakesburrow","Longriver","Goodsong","Baggins","Lothran","Longbottom","North-took","Whitfoot","Bolger","Twofoot","Longfoot","Brandybuck","Gardner","Brown","Emberswallow","Masterflower","Fusedown","Greensnow","Roughsteel","Netherbrook","Lightningarrow","Ravenbringer","Spiritfist","Mountainbough","Woodbelly","Dustbrand","Darkless","Mourningeye","Earthstalker","Hallowedslayer","Gloomfire","Thunderlance","Autumnbreaker","Clanhell","Dawnstrider","Strongbash","Eaglemore","Barleyswift","Wolfswift","Netherflame","Laughingcrusher","Feathertail","Dayfallow","Dusktail","Cliffswift","Silenttalon","Firespire","Willowdraft","Earthshot","Doomhell","Snowgrain","Gloomwalker","Hazesword","Grandstream"],dt=["Fredericus the Deviant","Euvrouin the Bald","Gilebert the Clever","Urian the Guardian","Salaman the Smiling","Symkyn of the Snow","Nick the Lion","Nicolas the Brute","Guarinet the Champion","Ronald the Warm","Maughtild the Stubborn","Aelis the Creature","Aleneite the Selfish","Saloua the Defender","Imagantia the Honest","Lunet the Fierce","Catrain the Brilliant","Elyzabeth the Righteous","Rosemond the Gentlewoman","Lilias the Giant","Archbishop Seri","Monk Aurri","Viscount Euvrouin","Count Dreu","Landgrave Cristoffle","Vicar Pearse","Admiral Galter","Knight Simkin","Peasant Sam","Lord Nicolin","Peasant Henriot","Vicar Ernest","Peasant Ludovicus","Count Davi","Monk Tobyn","King Adie","Yeoman Acelin","Cardinal Hurrey","Baronet Tobye","Admiral Gerrart","Queen Gennon","Queen Tiffan","Squire Luanda","Peasant Juliana","Duchess Emmony","Princess Consort Madlin","Grand Duchess Richmal","Princess Lunete","Countess Ela","Countess Isota"],gt=function(){var e="";if(Math.random()<.1){var t=Math.floor(Math.random()*dt.length);e=dt[t]}else{var a=Math.floor(Math.random()*ht.length),n=Math.floor(Math.random()*mt.length);e="".concat(ht[a]," ").concat(mt[n])}return e},pt=function(e){function t(){var e;return Object(F["a"])(this,t),e=Object(X["a"])(this,Object(J["a"])(t).call(this,"start")),e.playerName="",e}return Object(Q["a"])(t,e),Object(U["a"])(t,[{key:"init",value:function(){ge.setOptions(_e.start),ge.draw(4,1,"Trymunx's","#8a8c89",null),ge.draw(4,2,"Dragon Slayer","#086623",null),me.AddMessage({entity:"Welcome",message:"Greetings adventurer. Please enter your name to begin, or type /generate to have one generated for you."})}},{key:"receiveInputText",value:function(e){if(""===this.playerName)this.confirmPlayerName(e);else switch(e.toUpperCase()){case"YES":case"Y":me.SetPlayer(new oe(this.playerName)),me.SetSplash(!1),vt.nextState(this);break;case"NO":case"N":this.playerName="",me.SetPlayerName(""),me.AddMessage({entity:"Game",message:"Please enter a name, or type /generate to have one generated for you."});break;case"/GEN":case"/GENERATE":this.confirmPlayerName("/gen");break;default:this.confirmPlayerName(this.playerName)}}},{key:"redraw",value:function(){ge.setOptions(_e.start),ge.draw(4,1,"Trymunx's","#8a8c89",null),ge.draw(4,2,"Dragon Slayer","#086623",null)}},{key:"confirmPlayerName",value:function(e){(/^\/gen$/.test(e)||/^\/generate$/.test(e))&&(e=gt()),this.playerName=e,me.SetPlayerName(e),me.AddMessage({entity:"Confirm name:",message:"Your name is ".concat(e,". Use this name? [yes/no]")})}}]),t}(Ye),ft=new pt,yt=function(){function e(){Object(F["a"])(this,e)}return Object(U["a"])(e,[{key:"StartGame",value:function(){this.state=ft,this.state.init()}},{key:"receiveInputKeyUp",value:function(e){this.state instanceof lt&&this.state.keyUp(e)}},{key:"receiveInputKeyDown",value:function(e){this.state instanceof lt&&this.state.keyDown(e)}},{key:"receiveInputText",value:function(e){console.log(e),this.state&&this.state.receiveInputText&&this.state.receiveInputText(e)}},{key:"redraw",value:function(){this.state&&this.state.redraw&&this.state.redraw()}},{key:"nextState",value:function(e){switch(e.name){case"start":this.state=ct;break;case"main":break;case"end":this.state=ft;break;default:console.error("".concat(e.name," is not a registered game state."))}this.state&&this.state.init()}}]),e}(),vt=new yt;function bt(e,t){e.prototype.$game={display:ge,parseCommand:function(e){console.log("Parsing "+e)},receiveInputKeyDown:function(e){vt.receiveInputKeyDown(e)},receiveInputKeyUp:function(e){vt.receiveInputKeyUp(e)},receiveInputText:function(e){vt.receiveInputText(e)},start:function(){vt.StartGame()}}}ie["a"].config.productionTip=!1,ie["a"].use(bt),ie["a"].mixin(l),new ie["a"]({render:function(e){return e(He)},store:ce}).$mount("#app")},e690:function(e,t,a){},f87e:function(e,t,a){"use strict";var n=a("9e3c"),s=a.n(n);s.a}});
//# sourceMappingURL=app.ace0c70f.js.map